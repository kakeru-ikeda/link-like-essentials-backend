# Link Like Essentials Backend

GraphQLãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ  - Link! Like! ãƒ©ãƒ–ãƒ©ã‚¤ãƒ–! ã®ã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚’æä¾›ã™ã‚‹API

## ğŸ“‹ ç›®æ¬¡

- [æ¦‚è¦](#æ¦‚è¦)
- [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
- [é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
- [CI/CD](#cicd)
- [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](#ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ)

## ğŸ¯ æ¦‚è¦

ã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚’Webãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«æä¾›ã™ã‚‹GraphQLãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã€‚

**ä¸»è¦æ©Ÿèƒ½:**

- GraphQL APIã«ã‚ˆã‚‹ã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã®æŸ”è»Ÿãªå–å¾—
- Firebase Authenticationã«ã‚ˆã‚‹èªè¨¼åŸºç›¤
- Prisma + Redisã«ã‚ˆã‚‹é«˜é€Ÿã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
- ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã‚ˆã‚‹ä¿å®ˆæ€§ã®é«˜ã„è¨­è¨ˆ

## ğŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **è¨€èª**: TypeScript 5.x
- **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ **: Node.js 20+
- **GraphQL**: Apollo Server 4.x
- **ORM**: Prisma
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: Redis (ioredis)
- **èªè¨¼**: Firebase Authentication
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Neon PostgreSQL
- **ãƒ†ã‚¹ãƒˆ**: Jest
- **CI/CD**: GitHub Actions + Jenkins

## ğŸš€ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å¿…è¦è¦ä»¶

- Node.js 20.xä»¥ä¸Š
- npm 10.xä»¥ä¸Š
- Docker & Docker Composeï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/your-org/link-like-essentials-backend.git
cd link-like-essentials-backend

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# ç’°å¢ƒå¤‰æ•°è¨­å®š
cp .env.example .env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å¿…è¦ãªå€¤ã‚’è¨­å®š

# Prisma Clientç”Ÿæˆ
npm run prisma:generate

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
npm run prisma:migrate:dev
```

### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

```bash
# é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ï¼‰
npm run dev

# GraphQL Playground
# http://localhost:4000/graphql
```

### Dockerã§èµ·å‹•

```bash
# ã‚³ãƒ³ãƒ†ãƒŠãƒ“ãƒ«ãƒ‰ & èµ·å‹•
docker-compose up -d

# ãƒ­ã‚°ç¢ºèª
docker-compose logs -f app
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test

# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ã¿
npm run test:unit

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ã
npm run test:unit -- --coverage

# ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
npm run test:watch
```

## ğŸ” ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯

```bash
# Lint
npm run lint

# Lintè‡ªå‹•ä¿®æ­£
npm run lint:fix

# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒã‚§ãƒƒã‚¯
npm run format:check

# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆé©ç”¨
npm run format

# å‹ãƒã‚§ãƒƒã‚¯
npm run type-check

# CIå…¨ä½“ã‚’ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œ
npm run ci:local
```

## ğŸ”„ CI/CD

### GitHub Actionsï¼ˆCIï¼‰

**è‡ªå‹•å®Ÿè¡Œæ¡ä»¶:**

- `main`ã¾ãŸã¯`develop`ãƒ–ãƒ©ãƒ³ãƒã¸ã®Push
- Pull Requestä½œæˆæ™‚

**å¿…é ˆãƒã‚§ãƒƒã‚¯é …ç›®:**

- âœ… ESLintï¼ˆè­¦å‘Š0ä»¶ï¼‰
- âœ… Prettier
- âœ… TypeScriptå‹ãƒã‚§ãƒƒã‚¯
- âœ… ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

è©³ç´°: [CI/CD ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](./docs/CI_CD.md)

### Jenkinsï¼ˆCDï¼‰

**ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼:**

1. CIæˆåŠŸç¢ºèª
2. Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰
3. ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã¸ãƒ—ãƒƒã‚·ãƒ¥
4. Staging/Productionã¸ãƒ‡ãƒ—ãƒ­ã‚¤
5. ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ & ã‚¹ãƒ¢ãƒ¼ã‚¯ãƒ†ã‚¹ãƒˆ

**ç’°å¢ƒ:**

- **Staging**: developãƒ–ãƒ©ãƒ³ãƒ â†’ è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
- **Production**: mainãƒ–ãƒ©ãƒ³ãƒ â†’ æ‰‹å‹•æ‰¿èªå¾Œãƒ‡ãƒ—ãƒ­ã‚¤

è©³ç´°: [CI/CD ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](./docs/CI_CD.md)

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [è¨­è¨ˆæ›¸](./docs/DESIGN.md) - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã€APIè¨­è¨ˆ
- [CI/CD](./docs/CI_CD.md) - CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³è©³ç´°
- [API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](./docs/API.md) - GraphQL APIä»•æ§˜ï¼ˆTODOï¼‰

## ğŸ— ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Presentation Layer                    â”‚  â† GraphQL API
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Application Layer                     â”‚  â† Services
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Domain Layer                          â”‚  â† Entities & Interfaces
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Infrastructure Layer                  â”‚  â† DB, Cache, Auth
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è©³ç´°: [è¨­è¨ˆæ›¸](./docs/DESIGN.md)

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. Feature ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
2. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'feat: add amazing feature'`)
3. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
4. Pull Request ã‚’ä½œæˆ

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License
